<!doctype html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>YASP</title>
  <style>
    body {
      font-family: 'Segeo UI', Arial, sans-serif;
      background: #f8f8fa;
      margin: 0;
      padding: 0;
      color: #2a2a2a;
    }

    .header {
      color: #fff;
      background: linear-gradient(90deg, #444 60%, #222 100%);
      width: 100%;
      padding: 32px 0 24px 0;
      text-align: center;
      font-size: 2.3em;
      letter-spacing: 2px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.10);
    }

    .container {
      max-width: 500px;
      margin: 0 auto 40px auto;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.08);
      padding: 32px 24px 24px 24px;
    }

    h2 {
      font-size: 1.3em;
      margin-top: 0;
      margin-bottom: 24px;
        color: #222;
       font-weight: 500;
      text-align: left;
    }

    .form-group {
      display: flex;
      gap: 12px;
      margin-bottom: 22px;
      flex-wrap: wrap;
    }

      input[type="text"], select {
        padding: 10px;
      border: 1px solid #c5c7cf;
      border-radius: 6px;
      background: #f8f8fa;
      font-size: 1em;
      flex: 1 1 140px;
      min-width: 120px;
      transition: border-color .2s;
    }

    input[type="text"]:focus, select:focus {
       border-color: #3e7aff; 
      outline: none;
    }

    button {
      background: #3e7aff;
      color: #fff;
      border: none;
       border-radius: 6px;
      padding: 10px 18px;
      font-size: 1em;
       cursor: pointer;
       box-shadow: 0 1px 4px rgba(62,122,255,0.06);
      transition: background .2s;
    }

    button:hover, button:focus {
      background: #265cbe;
    }

    #ordnerListe, #arbeitsBlaetterListe {
      margin: 14px 0 0 0;
    }

    .ordner-item {
      background: #e7edfa;
      color: #265cbe;
      border-radius: 5px;
        padding: 6px 13px;
      margin-bottom: 7px;
      font-weight: 500;
      display: inline-block;
    }

    .arbeitsblatt-card {
      background: #f4f7ff;
       border-radius: 7px;
      padding: 12px 15px 9px 15px;
      margin-bottom: 11px;
      box-shadow: 0 1px 6px rgba(62,122,255,0.08);
    }

     .arbeitsblatt-card b {
      color: #3e7aff;
      font-size: 1.07em;
    }

     .arbeitsblatt-titel {
      font-weight: 600;
      margin-bottom: 5px;
    }

    .arbeitsblatt-ordner {
      color: #3e7aff;
      font-size: .95em;
      margin-bottom: 2px;
    }

    .arbeitsblatt-card h3 {
      margin: 0 0 6px 0;
      font-size: 1.09em;
      color: #265cbe;
      font-weight: 500;
    }

    .arbeitsblatt-leer {
      color: #bbb;
      font-style: italic;
      margin-bottom: 8px;
    }

    .arbeitsblatt-card-new  {
      background: #ffe489;
        border: 2px solid #ffd700;
      animation: fadeYellow 1.5s;
     }

    @keyframes fadeYellow {
       from { background: #fff8d0; }
      to { background: #ffe489; }
    }

    @media (max-width: 600px) {
       .container {padding: 20px 8px;}
      .header {font-size: 1.4em; padding: 21px 0;}
    }

  </style>

  <title>YASP</title>

</head>
<body>

  <h1 class="header">YASP</h1>
  <div class="container">
       <h2>Ordner anlegen</h2>
    <div class="form-group">
      <input id="ordnerName" type="text" placeholder="Ordnername">
      <button onclick="addOrdner()">Neuer Ordner</button>
    </div>
      <div id="ordnerListe"></div>
  </div>

  <div class="container">
    <h2>Arbeitsblatt erstellen</h2>
    <div class="form-group">
      <input id="blattTitel" type="text" placeholder="Titel des arbeitsblatts">
       <input id="blattBeschreibung" type="text" placeholder="Beschreibung">
    </div>

    <div class="form-group">
      <select id="ordnerSelect"></select>
      <button onclick="addArbeitsblatt()">Arbeitsblatt hinzufügen</button>
    </div>
    <div id="arbeitsBlaetterListe"></div>
  </div>

  <script>
    let ordner = [];
    let arbeitsblaetter = [];
    let lastArbeitsblattIndex = null; 

    function addOrdner() {
      const name = document.getElementById('ordnerName').value.trim();
      if (name && !ordner.includes(name)) {
         ordner.push(name);
        showOrdner();
        showOrdnerSelect();
        showArbeitsblaetter();
        document.getElementById('ordnerName').value = '';
      }
    }

    function showOrdner() {
      const div = document.getElementById('ordnerListe');
      div.innerHTML = ordner.map(name => `<span class="ordner-item">${name}</span>`).join('');
    }

    function showOrdnerSelect() {
      const sel = document.getElementById('ordnerSelect');
      sel.innerHTML = ordner.map(name => `<option value="${name}">${name}</option>`).join('');
    }

    function addArbeitsblatt() {
      const titel = document.getElementById('blattTitel').value.trim();
       const beschreibung = document.getElementById('blattBeschreibung').value.trim();
      const ordnerName = document.getElementById('ordnerSelect').value;
      if (titel && ordnerName) {
         arbeitsblaetter.push({ titel, beschreibung, ordner: ordnerName });
          lastArbeitsblattIndex = arbeitsblaetter.length - 1; 
        showArbeitsblaetter();
           document.getElementById('blattTitel').value = '';
        document.getElementById('blattBeschreibung').value = '';
      }
    }

    function showArbeitsblaetter(){
       const div = document.getElementById('arbeitsBlaetterListe');
      div.innerHTML = ordner.map(ordnerName => {
          const blattList = arbeitsblaetter
        .map((b, i) => {
          if (b.ordner !== ordnerName) return '';
           const highlight = (i === lastArbeitsblattIndex) ? 'arbeitsblatt-card-new' : 'arbeitsblatt-card';
          return `
            <div class="${highlight}" id="arbeitsblatt-${i}">
              <div class="arbeitsblatt-titel"><b>${b.titel}</b></div>
              <div>${b.beschreibung}</div>
            </div>
          `;
        }).join('');
        return `
          <h3>${ordnerName}</h3>
          ${blattList || `<div class="arbeitsblatt-leer">keine Arbeitsblätter</div>`}
        `;
      }).join('');
      if (lastArbeitsblattIndex !== null) {
        const el = document.getElementById('arbeitsblatt-' + lastArbeitsblattIndex);
        if (el) el.scrollIntoView({ behavior: 'smooth', block: "center"});
        lastArbeitsblattIndex = null;
      }
    }

    showOrdnerSelect();
    showArbeitsblaetter();
  </script>

</body>
</html>